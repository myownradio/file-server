Задача

Сделать файловый сервер, который будет использоваться сервисами myownradio и в будущем radioteria.

Что должно получиться

stand-alone-файловый сервер, запускаемый из командной строки и конфигурируемый ключами при запуске.

Пример команды запуска сервера:

<<<<<<< HEAD
server.py --port 80 --hash-algo sha-1 --content-dir /path/to/files --secret d41d8cd98f00b204e9800998ecf8427e
Ключ --port определяет на каком порту сервер должен слушать соединения, ключ --hash-algo определяет алгоритм хеширования, по которому будет определяться хеш файла, ключ --content-dir определяет папку, в которой будут содержаться загруженные файлы, ключ --secret определяет "секрет", используемый для проверки подлинности запросов.

Интерфейс
=======
```
server.py --port 80 --hash-algo sha-1 --content-dir /path/to/files --secret d41d8cd98f00b204e9800998ecf8427e
```

Ключ `--port` определяет на каком порту сервер должен слушать соединения, 
ключ `--hash-algo` определяет алгоритм хеширования, по которому будет определяться хеш файла,
ключ `--content-dir` определяет папку, в которой будут содержаться загруженные файлы,
ключ `--secret` определяет "секрет", используемый для проверки подлинности запросов.
>>>>>>> 37d381031b642d718cc3d3f1f5a8f5361eb36693

Файловый сервер должен отвечать по следующим URL:

GET /file/{file_hash} - должен возвращаться файл (содержимое файла) по указанному хешу, или 404, если файла нет.
POST /file/ - по этому адресу должен загружаться файл на сервер, и в случае успеха возвращаться json с его хешем.
DELETE /file/{file_hash} - удалить файл по его хешу или 404, если такого файла нет.
GET /status - должно вернуть состояние файлового хранилища. На данный момент интересует только остаток свободного места на диске.
Более детально о методах

GET /file/{file_hash}

Должен возвращаться исходный файл или 404 ошибка.

POST /file/

Обязательные параметры: file, token. Параметр file содержит в себе файл, который нужно загрузить, а параметр token - внезапно, токен, с которым сверяем атрибуты загружаемого файла.

Токен вычисляется следующим образом: md5("file_name_in_letters:file_size_in_bytes:client_ip:secret_key").

После того как файл будет успешно загружен, нужно вернуть обратно json:

{
  "file_name": "...",
  "file_size": "...",
  "file_hash": "...",
  "confirm_token": "..."
}
confirm_token - это токен, который сервер должен вернуть для подтверждения корректной загрузки. Он вычисляется следующим образом:

md5("file_name:file_size:client_ip:secret_key:file_hash") (почти так же как и обычный токен, но с добавлением еще одного параметра - file_hash).

Зависимости

<<<<<<< HEAD
Тут все просто. Бритва Оккама. Если это можно сделать без чего-то, то делаем без этого. Меньше зависимостей и кода - меньше проблем.
=======
### Более детально о методах
#### `GET /file/{file_hash}`
Должен возвращаться исходный файл или 404 ошибка.

#### `POST /file/`
Обязательные параметры: `file`, `token`.
Параметр `file` содержит в себе файл, который нужно загрузить, а параметр `token` - внезапно, токен, с которым сверяем
атрибуты загружаемого файла. 

Токен вычисляется следующим образом: `md5("file_name_in_letters:file_size_in_bytes:client_ip:secret_key")`.

После того как файл будет успешно загружен, нужно вернуть обратно json:
```json
{
  "file_name": "...",
  "file_size": "...",
  "file_hash": "...",
  "confirm_token": "..."
}
```

`confirm_token` - это токен, который сервер должен вернуть для подтверждения корректной загрузки. Он вычисляется следующим образом:

`md5("file_name:file_size:client_ip:secret_key:file_hash")` (почти так же как и обычный токен, но с добавлением еще одного параметра - file_hash).
>>>>>>> 37d381031b642d718cc3d3f1f5a8f5361eb36693

Ссылки

Есть похожий проект https://github.com/katyukha/file-server. Можно взять его за основу.